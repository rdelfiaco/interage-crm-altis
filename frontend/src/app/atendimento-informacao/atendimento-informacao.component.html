<div class="card card-cascade narrower">
  <!--Card image-->
  <div
    class="view view-cascade gradient-card-header blue-gradient narrower py-1 mx-2  d-flex justify-content-center align-items-center">
    <h4 class="white-text font-weight-bold text-uppercase mt-2">Informações dos Atendimentos</h4>
  </div>
  <!-- Card Filtros -->
  <div class="px-4">
    <div class="row" style="z-index: 5;">
      <div class="col-lg-3 col-sm-6">
        <div class="md-form datas">
          <mdb-date-picker #dataEventos name="mydate" [options]="myDatePickerOptions" required [(ngModel)]="dataInicial"
            class="datas" (ngModelChange)="validaData('dtInicial')"></mdb-date-picker>
          <label class="datas" style="height: 10px">Data inicial</label>
        </div>
      </div>
      <div class="col-lg-3 col-sm-6" style="z-index: 5;">
        <div class="md-form datas">
          <mdb-date-picker #dataEventos name="mydate" [options]="myDatePickerOptions" required [(ngModel)]="dataFinal"
            class="datas" (ngModelChange)="validaData('dtFinal')"></mdb-date-picker>
          <label class="datas" style="height: 10px">Data final</label>
        </div>
      </div>
      <div class="col-lg-6 col-sm-12" >
        <div class="row" style="margin-top: 50px">
          <div class="col-md-12">
            <mdb-select [(ngModel)]="usuarioSelectValue"
              (selected)="setNomeUsuario($event)" [options]="usuariosSelect" [multiple]="true"
              placeholder="Escolha o usuário" style="font-size: 0.5rem;"></mdb-select>
            <label>Usuário que realizou os atendimentos</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>

  <div class="px-4">
  
    <div class="table-wrapper">
      <!--Table-->
      <table class="mb-0 table" mdbTable hover="true">

        <!--Table head-->
        <thead>
          <tr>
            <th class="th-lg" >
              <a (click)="sortBy('motivo')">Motivo
                <mdb-icon fas icon="sort" class="ml-1"></mdb-icon>
              </a>
            </th>
            <th class="th-lg" >
              <a (click)="sortBy('total')">Quantidade
                <mdb-icon fas icon="sort" class="ml-1"></mdb-icon>
              </a>
            </th>
            <th class="th-lg" >
              <a (click)="sortBy('perct')">Percentual
                <mdb-icon fas icon="sort" class="ml-1"></mdb-icon>
              </a>
            </th>
          </tr>
        </thead>
        <tbody> 
          <tr *ngFor="let row of tableData;let i = index">
            <td (click)="showAnalitico(row)">{{row.motivo}}</td>
            <td>{{row.total}}</td>
            <td>{{row.perct}}%</td>
          </tr>
        </tbody>
        <tfoot>
          <tr *ngIf="total > 0 " >
              <th scope="row">Total</th>
              <td> {{total}} </td>
              <td> 100% </td>
          </tr>
      </tfoot>
      </table>
    </div>
  </div>
  <br>
  <br>
  <div class="px-4"> 
    <button mdbBtn type="button" color="default" mdbWavesEffect  (click)="gerarPDF()"  >Gerar PDF
    </button>
  </div>
  <br>
</div>
