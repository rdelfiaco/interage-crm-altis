<!-- <div *ngIf="importando" style="height: 100%; width: 100%">
  <div class="justify-content-center align-items-center flex-column row">
    <h1>Importando!</h1>
    <mdb-spinner spinnerType="big"> </mdb-spinner>
  </div>
</div> -->


<div class="card card-cascade narrower">
  <div
    class="view view-cascade gradient-card-header blue-gradient narrower py-2 mx-4 mb-3 d-flex justify-content-center align-items-center">
    <div>
      <button type="button" mdbBtn color="white" outline="true" rounded="true" size="sm" class="px-2" mdbWavesEffect>
        <mdb-icon fas fas icon="info" class="mt-0"></mdb-icon>
      </button>
    </div>
    <h4 class="white-text mx-3 mt-2 font-weight-bold text-uppercase">Importar Mailing/Lead</h4>
  </div>
  <div class="px-4" *ngIf="!importando">
    <form class="mb-3">
      <div class="file-field md-form">
        <div mdbBtn type="button" size="md" color="info" mdbWavesEffect>Selecione o arquivo
          <input type="file" mdbFileSelect (uploadOutput)="onUploadOutput($event)" [uploadInput]="uploadInput"
            (change)="fileChangeListener($event)" accept=".csv">
        </div>
        <div class="file-path-wrapper mt-3">
          <input class="file-path" type="text" placeholder="Click no botão para selecionar um arquivo para Upload"
            [value]="showFiles()">
        </div>
      </div>
      <div class="row">
        <div class="col-lg-6 mt-3">
          <mdb-checkbox [checked]=excluiDuplicadosChk (change)="onChangeExcluiDuplicadosChk(excluiDuplicadosChk)">As
            linhas com id_lead_origem e CPF_CNPJ duplicadas serão excluidas
          </mdb-checkbox>
        </div>
        <div class="col-lg-3 mt-3">
          <mdb-checkbox [checked]=cobrancaChk (change)= "onChangeCobranca(cobrancaChk)">Campanha de cobrança</mdb-checkbox>
        </div>
        <div class="col-lg-2 justify-content-end d-flex">
          <button type="button" [disabled]="!importar" mdbBtn color="primary" class="waves-light" aria-label="Enviar"
            (click)="importarCSV()" mdbWavesEffect>Enviar</button>
        </div>
      </div>
    </form>
    <div *ngIf="csvRecords" class="row mt-1 mb-2">
      <div class="col-lg-12 text-left">
        <h4 style="font-weight: 500;color: gray;">Total de linhas do arquivos: {{totalLinhas}}</h4>
      </div>
    </div>
    <table class="table table-hover table-responsive-md mb-0">
      <thead>
        <tr>
          <th *ngFor="let head of headersRow" scope="col"> {{head}}
            <!-- <mdb-icon icon="sort" (click)="sortBy(head)"></mdb-icon> -->
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let el of csvRecords">
          <td *ngFor="let head of headersRow">{{el[head]}} </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>